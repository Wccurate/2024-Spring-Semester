# 引论（无大题）

+ 编译程序的功能 *将源代码翻译成目标程序*
+ 编译方式，解释方式和区别（==中间代码的生成==，Python，Cpp） 表格管理程序（符号表）

*解释方式不产生中间代码，*

+ 编译过程（==编译过程，执行过程==）



+ 什么是编译程序    将高级语言翻译成低级语言（目标代码）
+ 前端和后端   所有和代码有关的都是前端，和硬件有关的称为后端（Java，Python，前端兼容，不同平台的编译器，后端兼容）

*前端：词法分析，语法分析，语义分析，中间代码生成，中间代码优化，目标代码生成，目标代码优化*

+ 编译程序扫描==一遍==源代码和==多遍==目标代码
+ 编译程序和语言和机器有关

# 文法和形式语言（无大题）

+ P21规则。*闭包，连接，笛卡尔积*
+ P23直接推导和规约的关系（Reverse）
+ P25黑体字，G等价，L（G1）=L（G2）
+ 2.4黑体字，0型，1型等文法，2型文法左边只有一个$V_N$​

*0型文法：只要左边含有一个$V_N$即可*

*1型文法（上下文有关文法）：$|\alpha| \le |\beta|$*

*2型文法（上下文无关文法）：$|\alpha|==1$ 并且是非终结符号*

*3型文法（正规文法）：A->aB|A->a如此*

+ 规范推导-》最右推导，最左规约
+ 规范句型-〉规范推导，最右句型
+ 文法二义性：同时出现两个相同的最左和最右推导。  语言的二义性：G二义性，且L（G）==L（G'）
+ 短语，直接短语（高度为1短语）和句柄（最左）
+ 句子只有$V_T$​句型可有两者
+ 文法中不得含有多余规则和有害规则
+ P34/35题目

# 词法分析（大题*1）

+ 什么是正规式：只用*，笛卡尔积，或，{}
+ 正规语言表达工具：NFA，DFA，正规文法，正规表达式
+ ==符号串集合是正规的当且仅当存在一个DFA可以接受所有的串集==
+ DFA和NFA的区别：
  + NFA从一个status经过相同的非终结符可以到达不同的状态
  + NFA有多个开始节点，DFA只有一个开始节点
  + NFA和DFA都有多个终结节点

+ NFA转DFA：子集法
+ 正规式<=>NFA
+ 正规文法不一定转化成DFA，因为有回溯（LL（1）文法一定能转化成DFA）
+ 3.3.3正规-》正规文法-〉自动机（DFA，NFA）-》最小化

# 自顶向下分析（大题*1）

+ LL（1）自上而下从左到右，最左推导，看一个字符（==从左向右扫描==，==产生最左推导，最右规约==，==向前查看一个单词==）
+ 计算first集合（有$\epsilon$），计算follow集合（后面不为空）
+ P73，判别求select集有没有交集
+ 提取左公因子，消除左递归
  + 提取公共因子：注意提取完整的左公共因子，如果第一个是非终结符号，那么需要展开
  + 消除左递归：直接左递归和间接左递归

+ 递归下降子程序法
+ ==P95==判断LL（1）文法，预测分析表
+ P101页题目

# 自下而上分析

+ P103简单优先分析法
+ P106表5-2，规范规约
+ P107算符优先分析法
  + 计算FIRSTVT集合：一个非终结符的不同产生式的第一个非终结符
  + 计算LASTVT集合
  + 对形如P->...ab...和P->aBb的产生式中，G[a,b]=“=”
  + 对形如P->aB...的产生式，有G[a,FIRSTVT(B)]=“<”
  + 对形如P->Ba...的产生式，有G[LASTVT(B),a]=">"
  + 对“#”来说，和FIRSTVT（E）和LASTVT（E）计算，其中G[#,#]="="

+ P108图5.4
+ P116最左素短语

# LR（0）分析

+ 从左向右，最右规约
+ LR（0）：从左向右，规范推导的逆过程，向右看k个符号
+ LR分析表的构建要点：
  + 先算出项目集
  + 项目集中$V_t$边进行S（移进）$V_n$边进行GOTO操作，如果出现了·到了最后的情况，那么就进行r操作（规约）
  + SLR（1）：规约只规约follow集合中的元素以此来解决移进规约冲突
  + 规约开始状态为acc动作

+ LR/SLR分析的要点：
  + 符号栈，状态栈，剩余串，action，goto
  + 符号栈一开始为0，符号栈为#
  + 规约的时候，规约几个符号，出栈几个状态，并且剩下的栈顶元素和符号栈的终结符计算GOTO操作

+ P127活前缀：
+ 识别活前缀的自动机
+ SLR（1）只写follow，不要漏#

# 属性文法

+ 属性文法：给产生式增加语义动作
+ 综合属性，继承属性
  + 综合属性：自下而上传递信息
  + 继承属性：自下而上传递信息

+ 属性文法：
  + S属性文法：只有综合文法（==自下而上规约==）
  + L属性文法：可以只包含综合属性，也可以包含继承属性（S属性文法是L属性文法的特例）

+ 例7.5
+ S属性文法：只有综合；L属性文法：综合+继承
+ P195符号表的作用：看PPT

# 静态语义分析和中间代码生成

+ 写出四元式（TAC三地址吗）
+ 符号表：数据结构，收集符号属性，地址分配一句，上下文语义合法性的检查
+ TAC主要操作：x：=y op z；x：=（==op==） y；if x op y goto L；
+ 翻译类型：赋值语句以及算数表达式的语法制导翻译，说明语句的语法制导翻译，数组说明和数组元素引用的语法制导翻译；布尔表达式的语法制导翻译

# 优化

+ 基本块，流图
+ 基本块入口：开始，goto5-》5是入口，无条件的有条件的
+ 基本块出口：上一个入口到下一个入口，有条件是出口
+ 流图：只配点，循环，回边
+ 活跃变量，到达
+ 10.2.4
+ P268优化代码技术：删除多余表达式，循环不变代码外提，强度削弱，合并已知变量，复写传播，变换循环控制条件，删除无用赋值，
+ P270优化技术（同一，局部）：窥孔优化，局部优化，超局部优化，循环优化，过程哪全局优化，流图范围内的优化，过程间优化
+ 常量传播

一：填空10分，一个空一分，词法分析（无），第一章的导论（1道，什么是编译什么是解释，这个题没有统一的答案，）
语法分析（2，3，4，5，6（LR文法））（一个第五章的算符优先，自下向上，什么LR，一个术语）（7：属性文法！代码生成，语法制导翻译）（8：优化）
（9：存储分配）（10：目标码生成，一说就知道的东西）

二：多选10分，1：编译器通论  
2：基本理论，什么是文法什么是自动机，0型1型...，文法对应的是自动机，图灵机之类的，capeblity能力问题
3：词法分析
4：同上，
5：语法分析
8：符号表
9：优化
10：活动记路：AR  gcc

三：判断10分
1：pl0语言（实验题7，也和这个有关，填空题），procedure，非终止符，选择用switch，case，三个过程，递归下降的语法错
2：简单？
3：语言和文法，定义语言（文法自动机），单纯的语言没有任何含义
4：二义性
5：nfa
6：拉链回填，跳转优化，
7：算符优先分析
8：中间代码生成
9：转移，划分基本块，三个入口，从哪里开始到哪里结束
10：循环，

















| Index | TAC             |
| ----- | --------------- |
| (1)   | if a>b goto (3) |
| (2)   | goto (5)        |
| (3)   | if s>c goto (5) |
| (4)   | goto (12)       |
| (5)   | if c<d goto (7) |
| (6)   | goto (11)       |
| (7)   | $T_0=1$         |
| (8)   | $T_1=d+T_0$     |
| (9)   | $d=T_1$         |
| (10)  | goto (5)        |
| (11)  | goto (15)       |
| (12)  | $T_2=y+z$       |
| (13)  | $T_3=x+T_2$     |
| (14)  | $x=T_3$         |
| (15)  | Exit Point      |